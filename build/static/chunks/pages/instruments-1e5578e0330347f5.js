(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[691],{5810:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/instruments",function(){return r(7534)}])},7534:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return p}});var t=r(4051),c=r.n(t),u=r(5893),a=r(7294),s=r(1163),i=r(2176),o=r(7982);function f(n,e,r,t,c,u,a){try{var s=n[u](a),i=s.value}catch(o){return void r(o)}s.done?e(i):Promise.resolve(i).then(t,c)}function p(n){var e=n.setTitle,r=n.serverUri;return a.useEffect((function(){e("\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b")}),[e]),(0,u.jsx)(l,{serverUri:r})}var h=[{page:"bluechipsshares",name:"\u0413\u043e\u043b\u0443\u0431\u044b\u0435 \u0444\u0438\u0448\u043a\u0438"},{page:"bluechipsfutures",name:"\u0424\u044c\u044e\u0447\u0435\u0440\u0441\u044b"}],l=function(n){var e=undefined,r=n.serverUri,t=(0,a.useState)(),s=t[0],p=t[1],l=(0,a.useState)(!1),x=l[0],d=l[1],m=(0,a.useState)(),b=m[0],k=m[1],w=(0,a.useState)(),j=w[0],g=w[1],y=a.useCallback(function(){var n,e=(n=c().mark((function n(e){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return p(e),d(!0),n.t0=k,n.next=5,(0,o.SK)(r,h[e].page);case 5:n.t1=n.sent,(0,n.t0)(n.t1),d(!1);case 8:case"end":return n.stop()}}),n)})),function(){var e=this,r=arguments;return new Promise((function(t,c){var u=n.apply(e,r);function a(n){f(u,t,c,a,s,"next",n)}function s(n){f(u,t,c,a,s,"throw",n)}a(void 0)}))});return function(n){return e.apply(this,arguments)}}(),[r]);return(0,a.useEffect)((function(){g(!0),j&&y(0)}),[j,y]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.hE,{children:h.slice(0,2).map((function(n,r){return(0,u.jsx)(i.zx,{color:"primary",outline:!0,block:!0,active:s===r,onClick:y.bind(e,r),children:n.name},r)}))}),(0,u.jsx)("br",{}),(0,u.jsx)(i.hE,{children:h.slice(2,4).map((function(n,r){return(0,u.jsx)(i.zx,{color:"primary",outline:!0,block:!0,active:s===r+2,onClick:y.bind(e,r+2),children:n.name},r)}))}),(0,u.jsx)("br",{}),x?(0,u.jsx)("center",{children:(0,u.jsx)(i.$j,{color:"primary",children:"Loading..."})}):b&&b.instruments?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(v,{instrumenst:b.instruments})}):""]})},v=function(n){var e=[],r=[];return n.instrumenst.sort((function(n,e){return n.name>e.name?1:n.name<e.name?-1:0})).forEach((function(n,t){var c=(0,u.jsx)(x,{name:n.name+" (".concat(n.ticker,")"),figi:n.figi},t);e.push(c),!e.length||e.length%3||(r.push(e),e=[])})),e.length&&r.push(e),r.map((function(n,e){return(0,u.jsx)(i.um,{children:n},e)}))},x=function(n){var e=(0,s.useRouter)();return(0,u.jsx)(i.Zb,{children:(0,u.jsxs)(i.eW,{children:[(0,u.jsx)(i.ll,{tag:"h5",children:n.name}),(0,u.jsx)(i._R,{className:"mb-2 text-muted",tag:"h6",children:n.figi}),(0,u.jsx)(i.zx,{color:"primary",outline:!0,onClick:function(){e.push("/instruments/"+n.figi)},children:"\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b"})]})})}},7982:function(n,e,r){"use strict";r.d(e,{C$:function(){return l},SK:function(){return i},mQ:function(){return o},nx:function(){return p},wO:function(){return f},zU:function(){return h}});var t=r(4051),c=r.n(t);function u(n,e,r,t,c,u,a){try{var s=n[u](a),i=s.value}catch(o){return void r(o)}s.done?e(i):Promise.resolve(i).then(t,c)}function a(n){return function(){var e=this,r=arguments;return new Promise((function(t,c){var a=n.apply(e,r);function s(n){u(a,t,c,s,i,"next",n)}function i(n){u(a,t,c,s,i,"throw",n)}s(void 0)}))}}var s={cache:"no-cache","Content-Type":"application/json"},i=function(){var n=a(c().mark((function n(e,r){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=1,n.next=4,window.fetch("".concat(e,"/").concat(r),s);case 4:t=n.sent,n.next=10;break;case 7:return n.prev=7,n.t0=n.catch(1),n.abrupt("return",!1);case 10:if(!t||!t.ok){n.next=14;break}return n.next=13,t.json();case 13:return n.abrupt("return",n.sent);case 14:return n.abrupt("return",!1);case 15:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e,r){return n.apply(this,arguments)}}(),o=function(){var n=a(c().mark((function n(e,r){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=1,n.next=4,window.fetch("".concat(e,"/figi/").concat(r),s);case 4:t=n.sent,n.next=10;break;case 7:return n.prev=7,n.t0=n.catch(1),n.abrupt("return",!1);case 10:if(!t||!t.ok){n.next=14;break}return n.next=13,t.json();case 13:return n.abrupt("return",n.sent);case 14:return n.abrupt("return",!1);case 15:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e,r){return n.apply(this,arguments)}}(),f=function(){var n=a(c().mark((function n(e,r,t,u,a){var i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a||(a=new Date(u),u.setHours(5,0,0,0),a.setHours(20,59,59,999)),n.prev=2,n.next=5,window.fetch("".concat(e,"/getcandles/").concat(r,"?interval=").concat(t,"&from=").concat(u.getTime(),"&to=").concat(a.getTime()),s);case 5:i=n.sent,n.next=11;break;case 8:return n.prev=8,n.t0=n.catch(2),n.abrupt("return",!1);case 11:if(!i||!i.ok){n.next=15;break}return n.next=14,i.json();case 14:return n.abrupt("return",n.sent);case 15:return n.abrupt("return",!1);case 16:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(e,r,t,c,u){return n.apply(this,arguments)}}(),p=function(){var n=a(c().mark((function n(e,r){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=1,n.next=4,window.fetch("".concat(e,"/getlastpriceandorderbook/").concat(r),s);case 4:t=n.sent,n.next=10;break;case 7:return n.prev=7,n.t0=n.catch(1),n.abrupt("return",!1);case 10:if(!t||!t.ok){n.next=14;break}return n.next=13,t.json();case 13:return n.abrupt("return",n.sent);case 14:return n.abrupt("return",!1);case 15:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e,r){return n.apply(this,arguments)}}(),h=function(){var n=a(c().mark((function n(e,r,t){var u;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="".concat(e,"/getcachedorderbook/").concat(r)+(t?"?time=".concat(t):""),n.prev=2,n.next=5,window.fetch(e,s);case 5:u=n.sent,n.next=11;break;case 8:return n.prev=8,n.t0=n.catch(2),n.abrupt("return",!1);case 11:if(!u||!u.ok){n.next=15;break}return n.next=14,u.json();case 14:return n.abrupt("return",n.sent);case 15:return n.abrupt("return",!1);case 16:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(e,r,t){return n.apply(this,arguments)}}(),l=function(){var n=a(c().mark((function n(e,r,t,u){var a,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i="exchange=".concat(r,"&from=").concat(t.getTime()),i+="&to=".concat(u?u.getTime():t.getTime()+1),n.prev=3,n.next=6,window.fetch("".concat(e,"/tradingschedules?").concat(i),s);case 6:a=n.sent,n.next=12;break;case 9:return n.prev=9,n.t0=n.catch(3),n.abrupt("return",!1);case 12:if(!a||!a.ok){n.next=16;break}return n.next=15,a.json();case 15:return n.abrupt("return",n.sent);case 16:return n.abrupt("return",!1);case 17:case"end":return n.stop()}}),n,null,[[3,9]])})));return function(e,r,t,c){return n.apply(this,arguments)}}()}},function(n){n.O(0,[774,888,179],(function(){return e=5810,n(n.s=e);var e}));var e=n.O();_N_E=e}]);
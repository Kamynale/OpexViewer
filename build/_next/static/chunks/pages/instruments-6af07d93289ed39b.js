(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[691],{163:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/instruments",function(){return e(9041)}])},9041:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return p}});var r=e(4051),c=e.n(r),u=e(5893),a=e(7294),s=e(1163),o=(e(4675),e(2176)),i=e(7982);function f(n,t,e,r,c,u,a){try{var s=n[u](a),o=s.value}catch(i){return void e(i)}s.done?t(o):Promise.resolve(o).then(r,c)}function p(n){var t=n.setTitle;return a.useEffect((function(){t("\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b")}),[t]),(0,u.jsx)(l,{})}var h=[{page:"bluechipsshares",name:"\u0413\u043e\u043b\u0443\u0431\u044b\u0435 \u0444\u0438\u0448\u043a\u0438"},{page:"bluechipsfutures",name:"\u0424\u044c\u044e\u0447\u0435\u0440\u0441\u044b"}],l=function(){var n=undefined,t=(0,a.useState)(),e=t[0],r=t[1],s=(0,a.useState)(!1),p=s[0],l=s[1],x=(0,a.useState)(),d=x[0],m=x[1],b=(0,a.useState)(),k=b[0],w=b[1],j=a.useCallback(function(){var n,t=(n=c().mark((function n(t){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(t),l(!0),n.t0=m,n.next=5,(0,i.SK)("http://localhost:8000/"+h[t].page);case 5:n.t1=n.sent,(0,n.t0)(n.t1),l(!1);case 8:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,c){var u=n.apply(t,e);function a(n){f(u,r,c,a,s,"next",n)}function s(n){f(u,r,c,a,s,"throw",n)}a(void 0)}))});return function(n){return t.apply(this,arguments)}}(),[]);return(0,a.useEffect)((function(){w(!0),k&&j(0)}),[k,j]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.hE,{children:h.slice(0,2).map((function(t,r){return(0,u.jsx)(o.zx,{color:"primary",outline:!0,block:!0,active:e===r,onClick:j.bind(n,r),children:t.name},r)}))}),(0,u.jsx)("br",{}),(0,u.jsx)(o.hE,{children:h.slice(2,4).map((function(t,r){return(0,u.jsx)(o.zx,{color:"primary",outline:!0,block:!0,active:e===r+2,onClick:j.bind(n,r+2),children:t.name},r)}))}),(0,u.jsx)("br",{}),p?(0,u.jsx)("center",{children:(0,u.jsx)(o.$j,{color:"primary",children:"Loading..."})}):d&&d.instruments?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(v,{instrumenst:d.instruments})}):""]})},v=function(n){var t=[],e=[];return n.instrumenst.sort((function(n,t){return n.name>t.name?1:n.name<t.name?-1:0})).forEach((function(n,r){var c=(0,u.jsx)(x,{name:n.name+" (".concat(n.ticker,")"),figi:n.figi},r);t.push(c),!t.length||t.length%3||(e.push(t),t=[])})),t.length&&e.push(t),e.map((function(n,t){return(0,u.jsx)(o.um,{children:n},t)}))},x=function(n){var t=(0,s.useRouter)();return(0,u.jsx)(o.Zb,{children:(0,u.jsxs)(o.eW,{children:[(0,u.jsx)(o.ll,{tag:"h5",children:n.name}),(0,u.jsx)(o._R,{className:"mb-2 text-muted",tag:"h6",children:n.figi}),(0,u.jsx)(o.zx,{color:"primary",outline:!0,onClick:function(){t.push("/instruments/"+n.figi)},children:"\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b"})]})})}},7982:function(n,t,e){"use strict";e.d(t,{C$:function(){return v},SK:function(){return i},mQ:function(){return f},nx:function(){return h},wO:function(){return p},zU:function(){return l}});var r=e(4051),c=e.n(r);function u(n,t,e,r,c,u,a){try{var s=n[u](a),o=s.value}catch(i){return void e(i)}s.done?t(o):Promise.resolve(o).then(r,c)}function a(n){return function(){var t=this,e=arguments;return new Promise((function(r,c){var a=n.apply(t,e);function s(n){u(a,r,c,s,o,"next",n)}function o(n){u(a,r,c,s,o,"throw",n)}s(void 0)}))}}var s={cache:"no-cache","Content-Type":"application/json"},o="http://localhost:8000",i=function(){var n=a(c().mark((function n(t){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=1,n.next=4,window.fetch(t,s);case 4:e=n.sent,n.next=10;break;case 7:return n.prev=7,n.t0=n.catch(1),n.abrupt("return",!1);case 10:if(!e||!e.ok){n.next=14;break}return n.next=13,e.json();case 13:return n.abrupt("return",n.sent);case 14:return n.abrupt("return",!1);case 15:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(t){return n.apply(this,arguments)}}(),f=function(){var n=a(c().mark((function n(t){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=1,n.next=4,window.fetch("".concat(o,"/figi/").concat(t),s);case 4:e=n.sent,n.next=10;break;case 7:return n.prev=7,n.t0=n.catch(1),n.abrupt("return",!1);case 10:if(!e||!e.ok){n.next=14;break}return n.next=13,e.json();case 13:return n.abrupt("return",n.sent);case 14:return n.abrupt("return",!1);case 15:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(t){return n.apply(this,arguments)}}(),p=function(){var n=a(c().mark((function n(t,e,r,u){var a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u||(u=new Date(r),r.setHours(5,0,0,0),u.setHours(20,59,59,999)),n.prev=2,n.next=5,window.fetch("".concat(o,"/getcandles/").concat(t,"?interval=").concat(e,"&from=").concat(r.getTime(),"&to=").concat(u.getTime()),s);case 5:a=n.sent,n.next=11;break;case 8:return n.prev=8,n.t0=n.catch(2),n.abrupt("return",!1);case 11:if(!a||!a.ok){n.next=15;break}return n.next=14,a.json();case 14:return n.abrupt("return",n.sent);case 15:return n.abrupt("return",!1);case 16:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(t,e,r,c){return n.apply(this,arguments)}}(),h=function(){var n=a(c().mark((function n(t,e){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=1,n.next=4,window.fetch("".concat(t,"/getlastpriceandorderbook/").concat(e),s);case 4:r=n.sent,n.next=10;break;case 7:return n.prev=7,n.t0=n.catch(1),n.abrupt("return",!1);case 10:if(!r||!r.ok){n.next=14;break}return n.next=13,r.json();case 13:return n.abrupt("return",n.sent);case 14:return n.abrupt("return",!1);case 15:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(t,e){return n.apply(this,arguments)}}(),l=function(){var n=a(c().mark((function n(t,e,r){var u;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="".concat(t,"/getcachedorderbook/").concat(e)+(r?"?time=".concat(r):""),n.prev=2,n.next=5,window.fetch(t,s);case 5:u=n.sent,n.next=11;break;case 8:return n.prev=8,n.t0=n.catch(2),n.abrupt("return",!1);case 11:if(!u||!u.ok){n.next=15;break}return n.next=14,u.json();case 14:return n.abrupt("return",n.sent);case 15:return n.abrupt("return",!1);case 16:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(t,e,r){return n.apply(this,arguments)}}(),v=function(){var n=a(c().mark((function n(t,e,r){var u,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="exchange=".concat(t,"&from=").concat(e.getTime()),a+="&to=".concat(r?r.getTime():e.getTime()+1),n.prev=3,n.next=6,window.fetch("".concat(o,"/tradingschedules?").concat(a),s);case 6:u=n.sent,n.next=12;break;case 9:return n.prev=9,n.t0=n.catch(3),n.abrupt("return",!1);case 12:if(!u||!u.ok){n.next=16;break}return n.next=15,u.json();case 15:return n.abrupt("return",n.sent);case 16:return n.abrupt("return",!1);case 17:case"end":return n.stop()}}),n,null,[[3,9]])})));return function(t,e,r){return n.apply(this,arguments)}}()}},function(n){n.O(0,[774,888,179],(function(){return t=163,n(n.s=t);var t}));var t=n.O();_N_E=t}]);
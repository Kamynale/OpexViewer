(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[778],{2063:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/accounts",function(){return t(1842)}])},1842:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var r=t(4051),c=t.n(r),u=t(5893),a=t(7294),s=t(2176);function o(e,n,t,r,c,u,a){try{var s=e[u](a),o=s.value}catch(i){return void t(i)}s.done?n(o):Promise.resolve(o).then(r,c)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(r,c){var u=e.apply(n,t);function a(e){o(u,r,c,a,s,"next",e)}function s(e){o(u,r,c,a,s,"throw",e)}a(void 0)}))}}var f={cache:"no-cache","Content-Type":"application/json"},h=function(){var e=i(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,window.fetch(n+"/getaccounts",f);case 4:t=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",!1);case 10:if(!t||!t.ok){e.next=14;break}return e.next=13,t.json();case 13:return e.abrupt("return",e.sent);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=i(c().mark((function e(n,t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,window.fetch(n+"/selectaccount?id="+t,f);case 4:r=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",!1);case 10:if(!r||!r.ok){e.next=14;break}return e.next=13,r.json();case 13:return e.abrupt("return",e.sent);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n,t){return e.apply(this,arguments)}}();function v(e,n,t,r,c,u,a){try{var s=e[u](a),o=s.value}catch(i){return void t(i)}s.done?n(o):Promise.resolve(o).then(r,c)}function l(e){return function(){var n=this,t=arguments;return new Promise((function(r,c){var u=e.apply(n,t);function a(e){v(u,r,c,a,s,"next",e)}function s(e){v(u,r,c,a,s,"throw",e)}a(void 0)}))}}function d(e){var n=e.setTitle,t=e.checkToken,r=e.serverUri,s=e.accountId,o=(0,a.useState)(),i=o[0],f=o[1],p=(0,a.useState)(),v=p[0],d=p[1],k=(0,a.useCallback)(l(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(r);case 2:(n=e.sent.accounts)&&f(n);case 4:case"end":return e.stop()}}),e)}))),[r]);return(0,a.useEffect)((function(){n("\u0421\u0447\u0435\u0442\u0430"),d(!0),v&&k()}),[v,k,s,n]),(0,u.jsx)(x,{accounts:i,serverUri:r,accountId:s,checkToken:t})}var x=function(e){var n=e.accountId,t=e.checkToken,r=e.serverUri,c=[],a=[];return(e.accounts||[]).forEach((function(e,s){var o=(0,u.jsx)(b,{name:e.name,id:e.id,type:e.type,status:e.status,accessLevel:e.accessLevel,serverUri:r,accountId:n,checkToken:t},s);c.push(o),!c.length||c.length%3||(a.push(c),c=[])})),c.length&&a.push(c),a.map((function(e,n){return(0,u.jsx)(s.um,{children:e},n)}))},k=["","\u0411\u0440\u043e\u043a\u0435\u0440\u0441\u043a\u0438\u0439 \u0441\u0447\u0451\u0442","\u0418\u0418\u0421","\u0418\u043d\u0432\u0435\u0441\u0442\u043a\u043e\u043f\u0438\u043b\u043a\u0430"],m=["","\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f","\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0439 \u0441\u0447\u0451\u0442","\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0439 \u0441\u0447\u0451\u0442"],w=["","\u041f\u043e\u043b\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0441\u0447\u0451\u0442\u0443.","\u0422\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u0435\u043d\u0438\u0435","\u0414\u043e\u0441\u0442\u0443\u043f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"],b=function(e){var n=e.name,t=e.id,r=e.type,o=e.status,i=e.accessLevel,f=e.accountId,h=e.checkToken,v=e.serverUri,d=(0,a.useCallback)(function(){var e=l(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(v,n);case 2:h();case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[v,h]);return(0,u.jsx)(s.Zb,{children:(0,u.jsxs)(s.eW,{children:[(0,u.jsxs)(s.ll,{tag:"h5",children:[n," (",t,")"]}),(0,u.jsx)(s._R,{className:"mb-2 text-muted",tag:"h6",children:m[o]}),(0,u.jsx)(s._R,{className:"mb-2 text-muted",tag:"h6",children:k[r]}),(0,u.jsx)(s._R,{className:"mb-2 text-muted",tag:"h6",children:w[i]}),(0,u.jsx)(s.zx,{color:"primary",outline:!0,active:f===t,onClick:d.bind(undefined,t),children:String(f)===String(t)?"\u0412\u044b\u0431\u0440\u0430\u043d":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"})]})})}}},function(e){e.O(0,[774,888,179],(function(){return n=2063,e(e.s=n);var n}));var n=e.O();_N_E=n}]);